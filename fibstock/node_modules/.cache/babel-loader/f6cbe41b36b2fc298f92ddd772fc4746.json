{"ast":null,"code":"var _jsxFileName = \"/Users/danny/git/fibstock/fibstock/src/components/SearchBar.js\";\nimport React from 'react';\nimport { debounce } from 'lodash';\nimport '../styles/SearchBar.css';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nexport default class SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextChanged = e => {\n      const value = e.target.value;\n      const _this$state = this.state,\n            items = _this$state.items,\n            text = _this$state.text;\n      this.setState(() => ({\n        suggestions,\n        text: value\n      }));\n      console.log(items);\n      this.onChangeDebounced(e);\n      let suggestions = [];\n\n      if (value.length > 0) {\n        const regex = new RegExp(\"^\".concat(value), 'i');\n        suggestions = items.sort().filter(v => regex.test(v));\n      }\n    };\n\n    this.onChangeDebounced = e => {// Delayed logic goes here\n    };\n\n    this.items = [];\n    this.timeout = 0;\n    this.onChangeDebounced = debounce(this.onChangeDebounced, 2000);\n    this.state = {\n      items: [],\n      suggestions: [],\n      text: '',\n      isLoaded: false\n    };\n  }\n\n  renderSuggestions() {\n    const _this$state2 = this.state,\n          suggestions = _this$state2.suggestions,\n          items = _this$state2.items;\n\n    if (suggestions.length === 0) {\n      return null;\n    }\n\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, suggestions.map(item => React.createElement(\"li\", {\n      onClick: () => this.suggestionSelected(item),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, item)));\n  }\n\n  suggestionSelected(value) {\n    this.setState(() => ({\n      text: value,\n      suggestions: []\n    }));\n  }\n\n  render() {\n    const text = this.state.text;\n    return React.createElement(\"div\", {\n      className: \"SearchBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: text,\n      onChange: this.onTextChanged,\n      type: \"text\",\n      placeholder: \"Type Company Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      value: \"\",\n      onClick: e => this.props.onGetClick(text),\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), this.renderSuggestions());\n  }\n\n}","map":{"version":3,"sources":["/Users/danny/git/fibstock/fibstock/src/components/SearchBar.js"],"names":["React","debounce","FontAwesomeIcon","faSearch","SearchBar","Component","constructor","props","onTextChanged","e","value","target","state","items","text","setState","suggestions","console","log","onChangeDebounced","length","regex","RegExp","sort","filter","v","test","timeout","isLoaded","renderSuggestions","map","item","suggestionSelected","render","onGetClick"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {debounce} from 'lodash';\nimport '../styles/SearchBar.css';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class SearchBar extends React.Component {\n    constructor(props){\n        super(props);\n        this.items = [];\n        this.timeout =  0;\n        this.onChangeDebounced = debounce(this.onChangeDebounced, 2000)\n        \n        this.state = {\n            items: [],\n            suggestions: [],\n            text: '',\n            isLoaded: false,\n        }\n    }\n\n    onTextChanged = (e) => {\n        const value = e.target.value;\n        const { items, text } = this.state;\n        this.setState(() => ({suggestions, text: value}));\n\n\n        console.log(items)\n        this.onChangeDebounced(e)\n\n        let suggestions = [];\n        if (value.length > 0){\n            const regex = new RegExp(`^${value}`, 'i');\n            suggestions = items.sort().filter(v => regex.test(v));\n        } \n        \n    }\n\n    onChangeDebounced = (e) => {\n        // Delayed logic goes here\n      }\n\n    renderSuggestions () {\n        const { suggestions, items } = this.state;\n\n        if (suggestions.length === 0){\n            return null;\n        } \n        return (\n            <ul>\n                {suggestions.map((item) => <li onClick={() => this.suggestionSelected(item)}>{item}</li>)}\n            </ul>\n        );\n    }\n\n    suggestionSelected (value) {\n        this.setState(() => ({\n            text: value,\n            suggestions: [],\n        }))\n    }\n\n    render () {\n        const { text } = this.state;\n\n        return (\n            <div className=\"SearchBox\">\n                <input value={text} onChange={this.onTextChanged} type=\"text\" placeholder=\"Type Company Name\" />\n                <button value=\"\" onClick={(e) => this.props.onGetClick(text)} type=\"text\">\n                    <FontAwesomeIcon icon={faSearch} />\n                </button>\n                {this.renderSuggestions()}\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}